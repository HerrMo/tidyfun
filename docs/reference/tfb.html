<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Constructors &amp; convertors for functional data in (spline) basis representation — as.tfb • tidyfun</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Constructors &amp; convertors for functional data in (spline) basis representation — as.tfb" />

<meta property="og:description" content="Various constructor and conversion methods." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidyfun</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/01_Intro.html">Introducing tidyfun</a>
    </li>
    <li>
      <a href="../articles/02_Data_Manipulation.html">Data Manipulation</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/fabian-s/tidyfun">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Constructors &amp; convertors for functional data in (spline) basis representation</h1>
    <small class="dont-index">Source: <a href='https://github.com/fabian-s/tidyfun/blob/master/R/convert.R'><code>R/convert.R</code></a>, <a href='https://github.com/fabian-s/tidyfun/blob/master/R/tfb-class.R'><code>R/tfb-class.R</code></a></small>
    <div class="hidden name"><code>tfb.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Various constructor and conversion methods.</p>
    
    </div>

    <pre class="usage"><span class='fu'>as.tfb</span>(<span class='no'>data</span>, <span class='kw'>basis</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"mgcv"</span>, <span class='st'>"fpc"</span>), <span class='no'>...</span>)

<span class='co'># S3 method for tfb</span>
<span class='fu'>as.data.frame</span>(<span class='no'>x</span>, <span class='kw'>row.names</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>optional</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>arg</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for tfb</span>
<span class='fu'>as.matrix</span>(<span class='no'>x</span>, <span class='kw'>arg</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='fu'>tfb</span>(<span class='no'>data</span>, <span class='no'>...</span>)

<span class='co'># S3 method for data.frame</span>
<span class='fu'>tfb</span>(<span class='no'>data</span>, <span class='kw'>id</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>arg</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='fl'>3</span>,
  <span class='kw'>domain</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>penalized</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>resolution</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for matrix</span>
<span class='fu'>tfb</span>(<span class='no'>data</span>, <span class='kw'>arg</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>domain</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>penalized</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>resolution</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for numeric</span>
<span class='fu'>tfb</span>(<span class='no'>data</span>, <span class='kw'>arg</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>domain</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>penalized</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>resolution</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for list</span>
<span class='fu'>tfb</span>(<span class='no'>data</span>, <span class='kw'>arg</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>domain</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>penalized</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>resolution</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for tfd</span>
<span class='fu'>tfb</span>(<span class='no'>data</span>, <span class='kw'>arg</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>domain</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>penalized</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>resolution</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='co'># S3 method for tfb</span>
<span class='fu'>tfb</span>(<span class='no'>data</span>, <span class='kw'>arg</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>domain</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>penalized</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>resolution</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>a <code>matrix</code>, <code>data.frame</code> or <code>list</code> of suitable shape, or another
<code>tf</code>-object.</p></td>
    </tr>
    <tr>
      <th>basis</th>
      <td><p>either "mgcv" to call <code>tfb()</code> which uses <code>mgcv</code>-type spline basis functions
or "fpc" to call <code><a href='tfb_fpc.html'>tfb_fpc()</a></code> which uses a (smoothed) functional principal component basis.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p><strong>for <code>tfb</code></strong>: arguments to the calls to <code><a href='http://www.rdocumentation.org/packages/mgcv/topics/s'>mgcv::s()</a></code> setting up the basis and
<code><a href='http://www.rdocumentation.org/packages/mgcv/topics/magic'>mgcv::magic()</a></code> (if <code>penalized</code> is TRUE). If not user-specified here,
<code>tidyfun</code> uses <code>k=15</code> cubic regression spline basis functions (i.e., <code>bs = "cr"</code>) by default, but at least how many basis functions <code>k</code> the spline
basis should have probably needs to be set manually.<br />
<strong>for <code>as.tfb</code>:</strong> use this to give arguments to <code>tfb()</code> or <code><a href='tfb_fpc.html'>tfb_fpc()</a></code>.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>an <code>tfb</code> object</p></td>
    </tr>
    <tr>
      <th>row.names</th>
      <td><p>not used</p></td>
    </tr>
    <tr>
      <th>optional</th>
      <td><p>not used</p></td>
    </tr>
    <tr>
      <th>arg</th>
      <td><p><code>numeric</code>, or list of <code>numeric</code>s. The evaluation grid. See Details.
For the <code>data.frame</code>-method: the name/number of the column defining the evaluation grid.</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>The name/number of the column defining which data belong to which function.</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>The name/number of the column containing the function evaluations.</p></td>
    </tr>
    <tr>
      <th>domain</th>
      <td><p>range of the <code>arg</code>.</p></td>
    </tr>
    <tr>
      <th>penalized</th>
      <td><p>should the coefficients of the basis representation be estimated
via <code><a href='http://www.rdocumentation.org/packages/mgcv/topics/magic'>mgcv::magic()</a></code> (default) or ordinary least squares.</p></td>
    </tr>
    <tr>
      <th>resolution</th>
      <td><p>resolution of the evaluation grid. See details for <code><a href='tfd.html'>tfd()</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an <code>tfb</code>-object (or a <code>data.frame</code>/<code>matrix</code> for the conversion
functions, obviously.)</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>tfb</code> tries to represent the input data as linear
combinations of a set of common spline basis functions identical for all
observations and coefficient vectors estimated for each observation. The
basis used is set up via a call to <code><a href='http://www.rdocumentation.org/packages/mgcv/topics/s'>mgcv::s()</a></code> and all the spline bases
discussed in <a href='http://www.rdocumentation.org/packages/mgcv/topics/smooth.terms'>mgcv::smooth.terms</a> are available, in principle. Depending on
the value of the <code>penalized</code>-flag, the coefficient vectors for each
observation are then estimated via fitting a (small) GAM for each observation
via <code><a href='http://www.rdocumentation.org/packages/mgcv/topics/magic'>mgcv::magic()</a></code> or via simple ordinary least squares.</p>
<p>After the "smoothed" representation is computed, the amount of smoothing that
was performed is reported in terms of the "percentage of variance preserved",
which is the variance of the smoothed function values divided by the variance
of the original values. The <code>...</code> arguments supplies arguments to both the
spline basis set up (via <code><a href='http://www.rdocumentation.org/packages/mgcv/topics/s'>mgcv::s()</a></code>) and the estimation (via
<code><a href='http://www.rdocumentation.org/packages/mgcv/topics/magic'>mgcv::magic()</a></code>), most important: how many basis functions <code>k</code> the spline
basis should have, the default is 25.</p>
<p>See <code><a href='tfb_fpc.html'>tfb_fpc()</a></code> for using an FPC representation with an orthogonal basis estimated from the
data instead.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='tfb_fpc.html'>tfb_fpc()</a></code></p></div>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Fabian Scheipl, Jeff Goldsmith.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

